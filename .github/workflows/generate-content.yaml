name: Trigger Course Content Action
on:
  workflow_dispatch:

permissions:
  contents: read

jobs:
  run-private-action:
    name: Run Private Action
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

      # Add this step to checkout the private action repository
      - name: Checkout Private Action
        uses: actions/checkout@v4
        with:
          repository: infoyouth/course-content-action
          ref: main  # or specific tag/branch
          token: ${{ secrets.PAT_TOKEN }}
          path: ./

      - name: List out content
        shell: bash
        run: ls -lrth

      # Update the action reference to use local path
      - name: Run Course Content Action
        uses: infoyouth/course-content-action@main
        with:
          token: ${{ secrets.PAT_TOKEN }}
          path: './'


